var home=environment["user.home"];load(home+"/scripts/fulljslint.js");load(home+"/scripts/json2.js");
(function(d){var a,c,b,e;if(!d[0]){print("Usage: jslint.js file.js");quit(1)}c=readFile(d[0]);if(!c){print("jslint: Couldn't open file '"+d[0]+"'.");quit(1)}b={};e={bitwise:true,eqeqeq:true,immed:true,newcap:true,nomen:true,onevar:true,plusplus:true,regexp:true,undef:true,white:true,browser:true,devel:true,indent:2,predef:["window"]};if(d[1])b=JSON.parse(d[1]);for(a in e)if(typeof b[a]==="undefined")b[a]=e[a];if(JSLINT(c,b))quit();else{for(c=0;c<JSLINT.errors.length;c+=1)if(a=JSLINT.errors[c]){b=
[d[0],"|",a.line,"| ",a.reason];a.evidence&&a.evidence.replace(/\s/g,"")!==""&&b.push("\n",a.evidence,"\n"," ",Array(a.character).join(" ")+"^");print(b.join(""))}quit(2)}})(arguments);
